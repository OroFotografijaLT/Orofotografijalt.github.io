<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Užsakyti filmavimą</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f9;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 20px;
    }
    input, select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-top: 5px;
    }
    .price-display {
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
      text-align: center;
    }
    button {
      background-color: #4caf50;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 6px;
      width: 100%;
      font-size: 16px;
      margin-top: 30px;
      cursor: pointer;
    }
    .lang-switch {
      text-align: right;
      font-size: 14px;
      margin-bottom: -10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="lang-switch">
      <button onclick="switchLang('lt')">LT</button>
      <button onclick="switchLang('en')">EN</button>
    </div>
    <h2 id="title">Užsakymo forma</h2>
    <form action="https://formspree.io/f/your-form-id" method="POST">
      <label for="distance" id="label-distance">Atstumas nuo Šilainių (km):</label>
      <input type="number" id="distance" name="distance" min="0" max="15" required />

      <label for="minutes" id="label-minutes">Trukmė (minutėmis):</label>
      <input type="number" id="minutes" name="minutes" min="1" required />

      <label for="quality" id="label-quality">Kokybė:</label>
      <select id="quality" name="quality">
        <option value="4k">4K</option>
        <option value="1080p">1080p</option>
        <option value="720p">720p</option>
      </select>

      <label>
        <input type="checkbox" id="urgent" name="urgent" />
        <span id="label-urgent">Skubus užsakymas (papildomai 2€)</span>
      </label>

      <div class="price-display" id="price-display">Kaina: 0.00€</div>

      <button type="submit" id="submit-button">Pateikti užsakymą</button>
    </form>
  </div>

  <script>
    const distanceInput = document.getElementById('distance');
    const minutesInput = document.getElementById('minutes');
    const qualityInput = document.getElementById('quality');
    const urgentCheckbox = document.getElementById('urgent');
    const priceDisplay = document.getElementById('price-display');

    function calculatePrice() {
      const km = parseFloat(distanceInput.value) || 0;
      const minutes = parseInt(minutesInput.value) || 0;
      const urgent = urgentCheckbox.checked;
      const quality = qualityInput.value;

      const freeKm = 3;
      const costPerKm = 0.10;
      const urgentFee = 2.00;

      let videoCost = 0;
      if (quality === "4k") videoCost = 1.0 * minutes;
      else if (quality === "1080p") videoCost = 0.75 * minutes;
      else videoCost = 0.5 * minutes;

      let kmCharge = Math.max(0, km - freeKm) * costPerKm;
      let total = kmCharge + videoCost;
      if (urgent) total += urgentFee;

      priceDisplay.textContent = (currentLang === 'lt' ? 'Kaina: ' : 'Price: ') + total.toFixed(2) + '€';
    }

    distanceInput.addEventListener('input', calculatePrice);
    minutesInput.addEventListener('input', calculatePrice);
    qualityInput.addEventListener('change', calculatePrice);
    urgentCheckbox.addEventListener('change', calculatePrice);

    // Language switching
    let currentLang = 'lt';
    const langMap = {
      lt: {
        title: 'Užsakymo forma',
        'label-distance': 'Atstumas nuo Šilainių (km):',
        'label-minutes': 'Trukmė (minutėmis):',
        'label-quality': 'Kokybė:',
        'label-urgent': 'Skubus užsakymas (papildomai 2€)',
        'submit-button': 'Pateikti užsakymą',
        'price-prefix': 'Kaina: '
      },
      en: {
        title: 'Order Form',
        'label-distance': 'Distance from Šilainiai (km):',
        'label-minutes': 'Duration (minutes):',
        'label-quality': 'Quality:',
        'label-urgent': 'Urgent order (+2€)',
        'submit-button': 'Submit Order',
        'price-prefix': 'Price: '
      }
    };

    function switchLang(lang) {
      currentLang = lang;
      const map = langMap[lang];
      for (const id in map) {
        const el = document.getElementById(id);
        if (el) el.textContent = map[id];
      }
      calculatePrice();
    }
  </script>
</body>
</html>
